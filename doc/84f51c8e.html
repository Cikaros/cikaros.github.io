

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/ci.png">
  <link rel="icon" href="/img/ci.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Cikaros">
  <meta name="keywords" content="个人博客,Cikaros,博客,ikaros,java,Java,Spring,spring,WTF,王天福,Cikaros`s space">
  
    <meta name="description" content="搭建minio服务器这个我在另一篇中有说明，这里不再赘述。 导入相关依赖&lt;!--必要的依赖 --&gt; &lt;dependency&gt;     &lt;groupId&gt;io.minio&lt;&#x2F;groupId&gt;     &lt;artifactId&gt;minio&lt;&#x2F;artifactId&gt;     &lt;version&gt;7.0.2">
<meta property="og:type" content="article">
<meta property="og:title" content="SpringBoot-整合minio文件系统实现上传下载和分享文件">
<meta property="og:url" content="https://blog.cikaros.top/doc/84f51c8e.html">
<meta property="og:site_name" content="Cikaros,一个无名的小站~">
<meta property="og:description" content="搭建minio服务器这个我在另一篇中有说明，这里不再赘述。 导入相关依赖&lt;!--必要的依赖 --&gt; &lt;dependency&gt;     &lt;groupId&gt;io.minio&lt;&#x2F;groupId&gt;     &lt;artifactId&gt;minio&lt;&#x2F;artifactId&gt;     &lt;version&gt;7.0.2">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://slack.min.io/slack?type=svg">
<meta property="article:published_time" content="2020-10-29T11:39:37.000Z">
<meta property="article:modified_time" content="2025-03-03T13:37:40.591Z">
<meta property="article:author" content="Cikaros">
<meta property="article:tag" content="MinIO">
<meta property="article:tag" content="文件上传">
<meta property="article:tag" content="文件下载">
<meta property="article:tag" content="文件分享">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://slack.min.io/slack?type=svg">
  
  
  
    <meta name="google-site-verification" content="RaCa-4GkAi8EznP5oa39oSQtZP5EVOWgnM_1OTMF_no" />
  
  <title>SpringBoot-整合minio文件系统实现上传下载和分享文件 - Cikaros,一个无名的小站~</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.net/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://cdn.staticfile.net/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://cdn.staticfile.net/hint.css/3.0.0/hint.min.css" />

  <link  rel="stylesheet" href="https://cdn.staticfile.net/prism/1.21.0/plugins/line-numbers/prism-line-numbers.min.css" />

  <link  rel="stylesheet" href="https://cdn.staticfile.net/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="https://at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"blog.cikaros.top","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":100,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":false,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":"§"},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":true,"offset_factor":null},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":null,"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null},"gtag":"G-1NCZJW9QCG","woyaola":null,"cnzz":null},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  

  

  

  



  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Cikaros&#39;s space</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button"
                 data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="iconfont icon-th-large"></i>
                <span>OS专题</span>
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                  
                  
                  
                  <a class="dropdown-item" href="/doc/28e04973.html" target="_self">
                    
                    <span>引言</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/doc/168b0cd8.html" target="_self">
                    
                    <span>环境搭建</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/doc/ddfee3ec.html" target="_self">
                    
                    <span>了解MBR引导过程</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/doc/8f901e2d.html" target="_self">
                    
                    <span>了解如何输出文本</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/doc/4cd4de27.html" target="_self">
                    
                    <span>了解CPU</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/doc/47db40c6.html" target="_self">
                    
                    <span>了解内存组成规则</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/doc/7fb90e78.html" target="_self">
                    
                    <span>了解栈</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/doc/93fdb9ff.html" target="_self">
                    
                    <span>了解函数和字符串</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/doc/26508ea8.html" target="_self">
                    
                    <span>了解16位实模式下的内存编制</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/doc/b5315bfb.html" target="_self">
                    
                    <span>开始引导磁盘</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/doc/44b6e221.html" target="_self">
                    
                    <span>开始编写32位打印函数</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/doc/cb82816a.html" target="_self">
                    
                    <span>开始编写GDT</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/doc/b4d9c09.html" target="_self">
                    
                    <span>运行32位程序</span>
                  </a>
                
              </div>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/" target="_self">
                <i class="iconfont icon-link-fill"></i>
                <span>友链</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/anime" target="_self">
                <i class="iconfont icon-image"></i>
                <span>看个图</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" 
     style="background: url('/static/img/index.html') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="SpringBoot-整合minio文件系统实现上传下载和分享文件"></span>
          
        </div>

        
          
  <div class="mt-3">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-author" aria-hidden="true"></i>
        Cikaros
      </span>
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2020-10-29 19:39" pubdate>
          2020年10月29日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          <!-- compatible with older versions-->
          7k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          <!-- compatible with older versions-->
          59 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">SpringBoot-整合minio文件系统实现上传下载和分享文件</h1>
            
              <p id="updated-time" class="note note-info" style="display: none">
                
                  
                    <!-- compatible with older versions-->
                    本文最后更新于：2025-03-03T21:37:40+08:00
                  
                  

                
              </p>
            
            
              <div class="markdown-body">
                
                <h2 id="搭建minio服务器"><a href="#搭建minio服务器" class="headerlink" title="搭建minio服务器"></a>搭建minio服务器</h2><p>这个我在另一篇中有说明，这里不再赘述。</p>
<h2 id="导入相关依赖"><a href="#导入相关依赖" class="headerlink" title="导入相关依赖"></a>导入相关依赖</h2><figure><div class="code-wrapper"><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">&lt;!--必要的依赖 --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.minio&lt;&#x2F;groupId&gt;
    &lt;artifactId&gt;minio&lt;&#x2F;artifactId&gt;
    &lt;version&gt;7.0.2&lt;&#x2F;version&gt;
&lt;&#x2F;dependency&gt;
&lt;!--可选的依赖 --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.apache.commons&lt;&#x2F;groupId&gt;
    &lt;artifactId&gt;commons-lang3&lt;&#x2F;artifactId&gt;
    &lt;version&gt;3.4&lt;&#x2F;version&gt;
&lt;&#x2F;dependency&gt;</code></pre></div></figure>

<h2 id="必要的配置"><a href="#必要的配置" class="headerlink" title="必要的配置"></a>必要的配置</h2><ul>
<li>文件上传配置</li>
</ul>
<figure><div class="code-wrapper"><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">spring:
  servlet:
    multipart:
      max-file-size: 5MB
      max-request-size: 5MB</code></pre></div></figure>

<ul>
<li>Configruation配置</li>
</ul>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">&#x2F;**
 * Minio配置
 *
 * @author Cikaros QQ：1032325640
 * @date 2020&#x2F;10&#x2F;29 17:18
 *&#x2F;
@Data
@Configuration
@ConfigurationProperties(prefix &#x3D; &quot;minio&quot;)&#x2F;&#x2F;这里的参数请在yml文件中配置出来
public class MinioConfig &#123;

    @ApiModelProperty(&quot;endPoint是一个URL，域名，IPv4或者IPv6地址&quot;)
    private String endpoint;

    @ApiModelProperty(&quot;TCP&#x2F;IP端口号&quot;)
    private int port;

    @ApiModelProperty(&quot;accessKey类似于用户ID，用于唯一标识你的账户&quot;)
    private String accessKey;

    @ApiModelProperty(&quot;secretKey是你账户的密码&quot;)
    private String secretKey;

    @ApiModelProperty(&quot;如果是true，则用的是https而不是http,默认值是true&quot;)
    private Boolean secure;

    @Bean
    public MinioClient getMinioClient() throws InvalidEndpointException, InvalidPortException &#123;
        MinioClient minioClient &#x3D; new MinioClient(endpoint, port, accessKey, secretKey, secure);
        return minioClient;
    &#125;

&#125;</code></pre></div></figure>

<p>然后就可以用<code>MinioClient</code>这个类来操作Minio了，下面附上API文档，<strong>Copy过来的，不是原创！！！</strong></p>
<h1 id="Java-Client-API参考文档"><a href="#Java-Client-API参考文档" class="headerlink" title="Java Client API参考文档 "></a>Java Client API参考文档 <a target="_blank" rel="noopener" href="https://slack.min.io/"><img src="https://slack.min.io/slack?type=svg" srcset="/img/loading.gif" lazyload alt="Slack"></a></h1><h2 id="初始化Minio-Client-object。"><a href="#初始化Minio-Client-object。" class="headerlink" title="初始化Minio Client object。"></a>初始化Minio Client object。</h2><h3 id="MinIO"><a href="#MinIO" class="headerlink" title="MinIO"></a>MinIO</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">MinioClient minioClient &#x3D; new MinioClient(&quot;https:&#x2F;&#x2F;play.min.io&quot;, &quot;Q3AM3UQ867SPQQA43P2F&quot;, &quot;zuf+tfteSlswRu7BJ86wekitnifILbZam1KYY3TG&quot;);</code></pre></div></figure>

<h3 id="AWS-S3"><a href="#AWS-S3" class="headerlink" title="AWS S3"></a>AWS S3</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">MinioClient s3Client &#x3D; new MinioClient(&quot;https:&#x2F;&#x2F;s3.amazonaws.com&quot;, &quot;YOUR-ACCESSKEYID&quot;, &quot;YOUR-SECRETACCESSKEY&quot;);
</code></pre></div></figure>

<table>
<thead>
<tr>
<th align="left">存储桶操作</th>
<th align="left">文件对象操作</th>
<th align="left">Presigned操作</th>
<th align="left">存储桶策略</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a target="_blank" rel="noopener" href="https://docs.min.io/cn/java-client-api-reference.html#makeBucket"><code>makeBucket</code></a></td>
<td align="left"><a target="_blank" rel="noopener" href="https://docs.min.io/cn/java-client-api-reference.html#getObject"><code>getObject</code></a></td>
<td align="left"><a target="_blank" rel="noopener" href="https://docs.min.io/cn/java-client-api-reference.html#presignedGetObject"><code>presignedGetObject</code></a></td>
<td align="left"><a target="_blank" rel="noopener" href="https://docs.min.io/cn/java-client-api-reference.html#getBucketPolicy"><code>getBucketPolicy</code></a></td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://docs.min.io/cn/java-client-api-reference.html#listBuckets"><code>listBuckets</code></a></td>
<td align="left"><a target="_blank" rel="noopener" href="https://docs.min.io/cn/java-client-api-reference.html#putObject"><code>putObject</code></a></td>
<td align="left"><a target="_blank" rel="noopener" href="https://docs.min.io/cn/java-client-api-reference.html#presignedPutObject"><code>presignedPutObject</code></a></td>
<td align="left"><a target="_blank" rel="noopener" href="https://docs.min.io/cn/java-client-api-reference.html#setBucketPolicy"><code>setBucketPolicy</code></a></td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://docs.min.io/cn/java-client-api-reference.html#bucketExists"><code>bucketExists</code></a></td>
<td align="left"><a target="_blank" rel="noopener" href="https://docs.min.io/cn/java-client-api-reference.html#copyObject"><code>copyObject</code></a></td>
<td align="left"><a target="_blank" rel="noopener" href="https://docs.min.io/cn/java-client-api-reference.html#presignedPostPolicy"><code>presignedPostPolicy</code></a></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://docs.min.io/cn/java-client-api-reference.html#removeBucket"><code>removeBucket</code></a></td>
<td align="left"><a target="_blank" rel="noopener" href="https://docs.min.io/cn/java-client-api-reference.html#statObject"><code>statObject</code></a></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://docs.min.io/cn/java-client-api-reference.html#listObjects"><code>listObjects</code></a></td>
<td align="left"><a target="_blank" rel="noopener" href="https://docs.min.io/cn/java-client-api-reference.html#removeObject"><code>removeObject</code></a></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://docs.min.io/cn/java-client-api-reference.html#listIncompleteUploads"><code>listIncompleteUploads</code></a></td>
<td align="left"><a target="_blank" rel="noopener" href="https://docs.min.io/cn/java-client-api-reference.html#removeIncompleteUpload"><code>removeIncompleteUpload</code></a></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h2 id="1-构造函数"><a href="#1-构造函数" class="headerlink" title="1. 构造函数"></a>1. 构造函数</h2><table>
<thead>
<tr>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>public MinioClient(String endpoint) throws NullPointerException, InvalidEndpointException, InvalidPortException</code></td>
</tr>
<tr>
<td align="left">使用给定的endpoint以及匿名方式创建一个Minio client对象。</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#MinioClient-java.lang.String-">查看 Javadoc</a></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>public MinioClient(URL url) throws NullPointerException, InvalidEndpointException, InvalidPortException</code></td>
</tr>
<tr>
<td align="left">使用给定的url以及匿名方式创建一个Minio client对象。</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#MinioClient-java.net.URL-">查看 Javadoc</a></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>public MinioClient(com.squareup.okhttp.HttpUrl url) throws NullPointerException, InvalidEndpointException, InvalidPortException</code></td>
</tr>
<tr>
<td align="left">使用给定的HttpUrl以及匿名方式创建一个Minio client对象。</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#MinioClient-com.squareup.okhttp.HttpUrl-">查看 Javadoc</a></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>public MinioClient(String endpoint, String accessKey, String secretKey) throws NullPointerException, InvalidEndpointException, InvalidPortException</code></td>
</tr>
<tr>
<td align="left">使用给定的endpoint、access key和secret key创建一个Minio client对象。</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#MinioClient-java.lang.String-java.lang.String-java.lang.String-">查看 Javadoc</a></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>public MinioClient(String endpoint, int port, String accessKey, String secretKey) throws NullPointerException, InvalidEndpointException, InvalidPortException</code></td>
</tr>
<tr>
<td align="left">使用给定的endpoint、port、access key和secret key创建一个Minio client对象。</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#MinioClient-java.lang.String-int-java.lang.String-java.lang.String-">查看 Javadoc</a></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>public MinioClient(String endpoint, String accessKey, String secretKey, boolean secure) throws NullPointerException, InvalidEndpointException, InvalidPortException</code></td>
</tr>
<tr>
<td align="left">使用给定的endpoint、access key、secret key和一个secure选项（是否使用https）创建一个Minio client对象。</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#MinioClient-java.lang.String-java.lang.String-java.lang.String-boolean-">查看 Javadoc</a></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>public MinioClient(String endpoint, int port, String accessKey, String secretKey, boolean secure) throws NullPointerException, InvalidEndpointException, InvalidPortException</code></td>
</tr>
<tr>
<td align="left">使用给定的endpoint、port、access key、secret key和一个secure选项（是否使用https）创建一个Minio client对象。</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#MinioClient-java.lang.String-int-java.lang.String-java.lang.String-boolean-">查看 Javadoc</a></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>public MinioClient(com.squareup.okhttp.HttpUrl url, String accessKey, String secretKey) throws NullPointerException, InvalidEndpointException, InvalidPortException</code></td>
</tr>
<tr>
<td align="left">使用给定的HttpUrl对象、access key、secret key创建一个Minio client对象。</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#MinioClient-com.squareup.okhttp.HttpUrl-java.lang.String-java.lang.String-">查看 Javadoc</a></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>public MinioClient(URL url, String accessKey, String secretKey) throws NullPointerException, InvalidEndpointException, InvalidPortException</code></td>
</tr>
<tr>
<td align="left">使用给定的URL对象、access key、secret key创建一个Minio client对象。</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#MinioClient-java.net.URL-java.lang.String-java.lang.String-">查看 Javadoc</a></td>
</tr>
</tbody></table>
<p><strong>参数</strong></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>endpoint</code></td>
<td align="left"><em>string</em></td>
<td align="left">endPoint是一个URL，域名，IPv4或者IPv6地址。以下是合法的endpoints:</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"><a target="_blank" rel="noopener" href="https://s3.amazonaws.com/">https://s3.amazonaws.com</a></td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"><a target="_blank" rel="noopener" href="https://play.min.io/">https://play.min.io</a></td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">localhost</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">play.min.io</td>
</tr>
<tr>
<td align="left"><code>port</code></td>
<td align="left"><em>int</em></td>
<td align="left">TCP&#x2F;IP端口号。可选，默认值是，如果是http,则默认80端口，如果是https,则默认是443端口。</td>
</tr>
<tr>
<td align="left"><code>accessKey</code></td>
<td align="left"><em>string</em></td>
<td align="left">accessKey类似于用户ID，用于唯一标识你的账户。</td>
</tr>
<tr>
<td align="left"><code>secretKey</code></td>
<td align="left"><em>string</em></td>
<td align="left">secretKey是你账户的密码。</td>
</tr>
<tr>
<td align="left"><code>secure</code></td>
<td align="left"><em>boolean</em></td>
<td align="left">如果是true，则用的是https而不是http,默认值是true。</td>
</tr>
<tr>
<td align="left"><code>url</code></td>
<td align="left"><em>URL</em></td>
<td align="left">Endpoint URL对象。</td>
</tr>
<tr>
<td align="left"><code>url</code></td>
<td align="left"><em>HttpURL</em></td>
<td align="left">Endpoint HttpUrl对象。</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<h3 id="MinIO-1"><a href="#MinIO-1" class="headerlink" title="MinIO"></a>MinIO</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">&#x2F;&#x2F; 1. public MinioClient(String endpoint)
MinioClient minioClient &#x3D; new MinioClient(&quot;https:&#x2F;&#x2F;play.min.io&quot;);

&#x2F;&#x2F; 2. public MinioClient(URL url)
MinioClient minioClient &#x3D; new MinioClient(new URL(&quot;https:&#x2F;&#x2F;play.min.io&quot;));

&#x2F;&#x2F; 3. public MinioClient(com.squareup.okhttp.HttpUrl url)
 MinioClient minioClient &#x3D; new MinioClient(new HttpUrl.parse(&quot;https:&#x2F;&#x2F;play.min.io&quot;));

&#x2F;&#x2F; 4. public MinioClient(String endpoint, String accessKey, String secretKey)
MinioClient minioClient &#x3D; new MinioClient(&quot;https:&#x2F;&#x2F;play.min.io&quot;, &quot;Q3AM3UQ867SPQQA43P2F&quot;, &quot;zuf+tfteSlswRu7BJ86wekitnifILbZam1KYY3TG&quot;);

&#x2F;&#x2F; 5. public MinioClient(String endpoint, int port,  String accessKey, String secretKey)
MinioClient minioClient &#x3D; new MinioClient(&quot;https:&#x2F;&#x2F;play.min.io&quot;, 9000, &quot;Q3AM3UQ867SPQQA43P2F&quot;, &quot;zuf+tfteSlswRu7BJ86wekitnifILbZam1KYY3TG&quot;);

&#x2F;&#x2F; 6. public MinioClient(String endpoint, String accessKey, String secretKey, boolean insecure)
MinioClient minioClient &#x3D; new MinioClient(&quot;https:&#x2F;&#x2F;play.min.io&quot;, &quot;Q3AM3UQ867SPQQA43P2F&quot;, &quot;zuf+tfteSlswRu7BJ86wekitnifILbZam1KYY3TG&quot;, true);

&#x2F;&#x2F; 7. public MinioClient(String endpoint, int port,  String accessKey, String secretKey, boolean insecure)
MinioClient minioClient &#x3D; new MinioClient(&quot;https:&#x2F;&#x2F;play.min.io&quot;, 9000, &quot;Q3AM3UQ867SPQQA43P2F&quot;, &quot;zuf+tfteSlswRu7BJ86wekitnifILbZam1KYY3TG&quot;, true);

&#x2F;&#x2F; 8. public MinioClient(com.squareup.okhttp.HttpUrl url, String accessKey, String secretKey)
 MinioClient minioClient &#x3D; new MinioClient(new URL(&quot;https:&#x2F;&#x2F;play.min.io&quot;), &quot;Q3AM3UQ867SPQQA43P2F&quot;, &quot;zuf+tfteSlswRu7BJ86wekitnifILbZam1KYY3TG&quot;);

&#x2F;&#x2F; 9. public MinioClient(URL url, String accessKey, String secretKey)
MinioClient minioClient &#x3D; new MinioClient(HttpUrl.parse(&quot;https:&#x2F;&#x2F;play.min.io&quot;), &quot;Q3AM3UQ867SPQQA43P2F&quot;, &quot;zuf+tfteSlswRu7BJ86wekitnifILbZam1KYY3TG&quot;);
</code></pre></div></figure>

<h3 id="AWS-S3-1"><a href="#AWS-S3-1" class="headerlink" title="AWS S3"></a>AWS S3</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">&#x2F;&#x2F; 1. public MinioClient(String endpoint)
MinioClient s3Client &#x3D; new MinioClient(&quot;https:&#x2F;&#x2F;s3.amazonaws.com&quot;);

&#x2F;&#x2F; 2. public MinioClient(URL url)
MinioClient minioClient &#x3D; new MinioClient(new URL(&quot;https:&#x2F;&#x2F;s3.amazonaws.com&quot;));

&#x2F;&#x2F; 3. public MinioClient(com.squareup.okhttp.HttpUrl url)
 MinioClient s3Client &#x3D; new MinioClient(new HttpUrl.parse(&quot;https:&#x2F;&#x2F;s3.amazonaws.com&quot;));

&#x2F;&#x2F; 4. public MinioClient(String endpoint, String accessKey, String secretKey)
MinioClient s3Client &#x3D; new MinioClient(&quot;s3.amazonaws.com&quot;, &quot;YOUR-ACCESSKEYID&quot;, &quot;YOUR-SECRETACCESSKEY&quot;);

&#x2F;&#x2F; 5. public MinioClient(String endpoint, int port,  String accessKey, String secretKey)
MinioClient s3Client &#x3D; new MinioClient(&quot;s3.amazonaws.com&quot;, 80, &quot;YOUR-ACCESSKEYID&quot;, &quot;YOUR-SECRETACCESSKEY&quot;);

&#x2F;&#x2F; 6. public MinioClient(String endpoint, String accessKey, String secretKey, boolean insecure)
MinioClient s3Client &#x3D; new MinioClient(&quot;s3.amazonaws.com&quot;, &quot;YOUR-ACCESSKEYID&quot;, &quot;YOUR-SECRETACCESSKEY&quot;, false);

&#x2F;&#x2F; 7. public MinioClient(String endpoint, int port,  String accessKey, String secretKey, boolean insecure)
MinioClient s3Client &#x3D; new MinioClient(&quot;s3.amazonaws.com&quot;, 80, &quot;YOUR-ACCESSKEYID&quot;, &quot;YOUR-SECRETACCESSKEY&quot;,false);

&#x2F;&#x2F; 8. public MinioClient(com.squareup.okhttp.HttpUrl url, String accessKey, String secretKey)
 MinioClient s3Client &#x3D; new MinioClient(new URL(&quot;s3.amazonaws.com&quot;), &quot;YOUR-ACCESSKEYID&quot;, &quot;YOUR-SECRETACCESSKEY&quot;);

&#x2F;&#x2F; 9. public MinioClient(URL url, String accessKey, String secretKey)
MinioClient s3Client &#x3D; new MinioClient(HttpUrl.parse(&quot;s3.amazonaws.com&quot;), &quot;YOUR-ACCESSKEYID&quot;, &quot;YOUR-SECRETACCESSKEY&quot;);
</code></pre></div></figure>

<h2 id="2-存储桶操作"><a href="#2-存储桶操作" class="headerlink" title="2. 存储桶操作"></a>2. 存储桶操作</h2><h3 id="makeBucket-String-bucketName"><a href="#makeBucket-String-bucketName" class="headerlink" title="makeBucket(String bucketName)"></a>makeBucket(String bucketName)</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">public void makeBucket(String bucketName);</code></pre></div></figure>

<p>创建一个新的存储桶</p>
<p><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#makeBucket-java.lang.String-">查看Javadoc</a></p>
<p><strong>参数</strong></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>bucketName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶名称</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">返回值类型</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>None</code></td>
<td align="left">异常列表:</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidBucketNameException</code> : 非法的存储桶名称。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoResponseException</code> : 服务器无响应。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>IOException</code> : 连接异常</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>org.xmlpull.v1.XmlPullParserException</code> : 解析返回的XML异常</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>ErrorResponseException</code> : 执行失败</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InternalException</code> : 内部异常</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">try &#123;
  &#x2F;&#x2F; 如存储桶不存在，创建之。
  boolean found &#x3D; minioClient.bucketExists(&quot;mybucket&quot;);
  if (found) &#123;
    System.out.println(&quot;mybucket already exists&quot;);
  &#125; else &#123;
    &#x2F;&#x2F; 创建名为&#39;my-bucketname&#39;的存储桶。
    minioClient.makeBucket(&quot;mybucket&quot;);
    System.out.println(&quot;mybucket is created successfully&quot;);
  &#125;
&#125; catch (MinioException e) &#123;
  System.out.println(&quot;Error occurred: &quot; + e);
&#125;</code></pre></div></figure>



<h3 id="listBuckets"><a href="#listBuckets" class="headerlink" title="listBuckets()"></a>listBuckets()</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">public List&lt;Bucket&gt; listBuckets()</code></pre></div></figure>

<p>列出所有存储桶。</p>
<p><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#listBuckets--">查看Javadoc</a></p>
<table>
<thead>
<tr>
<th align="left">返回值类型</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>List Bucket</code> : List of bucket type.</td>
<td align="left">异常列表：</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoResponseException</code> : 服务端无响应</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>IOException</code> : 连接异常</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>org.xmlpull.v1.XmlPullParserException</code> : 解析返回的XML异常</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>ErrorResponseException</code> :执行失败异溃</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InternalException</code> : 内部错误</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">try &#123;
  &#x2F;&#x2F; 列出所有存储桶
  List&lt;Bucket&gt; bucketList &#x3D; minioClient.listBuckets();
  for (Bucket bucket : bucketList) &#123;
    System.out.println(bucket.creationDate() + &quot;, &quot; + bucket.name());
  &#125;
&#125; catch (MinioException e) &#123;
  System.out.println(&quot;Error occurred: &quot; + e);
&#125;</code></pre></div></figure>



<h3 id="bucketExists-String-bucketName"><a href="#bucketExists-String-bucketName" class="headerlink" title="bucketExists(String bucketName)"></a>bucketExists(String bucketName)</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">public boolean bucketExists(String bucketName)</code></pre></div></figure>

<p>检查存储桶是否存在。</p>
<p><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#bucketExists-java.lang.String-">查看 Javadoc</a></p>
<p><strong>参数</strong></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>bucketName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶名称</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">返回值值类型</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>boolean</code>: true if the bucket exists</td>
<td align="left">异常列表：</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidBucketNameException</code> : 不合法的存储桶名称。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoResponseException</code> : 服务器无响应。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>IOException</code> : 连接异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>org.xmlpull.v1.XmlPullParserException</code> : 解析返回的XML异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>ErrorResponseException</code> : 执行失败异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InternalException</code> : 内部错误。</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">try &#123;
  &#x2F;&#x2F; 检查&#39;my-bucketname&#39;是否存在。
  boolean found &#x3D; minioClient.bucketExists(&quot;mybucket&quot;);
  if (found) &#123;
    System.out.println(&quot;mybucket exists&quot;);
  &#125; else &#123;
    System.out.println(&quot;mybucket does not exist&quot;);
  &#125;
&#125; catch (MinioException e) &#123;
  System.out.println(&quot;Error occurred: &quot; + e);
&#125;</code></pre></div></figure>



<h3 id="removeBucket-String-bucketName"><a href="#removeBucket-String-bucketName" class="headerlink" title="removeBucket(String bucketName)"></a>removeBucket(String bucketName)</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">public void removeBucket(String bucketName)</code></pre></div></figure>

<p>删除一个存储桶。</p>
<p><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#removeBucket-java.lang.String-">查看 Javadoc</a></p>
<p>注意: - removeBucket不会删除存储桶里的对象，你需要通过removeObject API来删除它们。</p>
<p><strong>参数</strong></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>bucketName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶名称。</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">返回值类型</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="left">None</td>
<td align="left">异常列表：</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidBucketNameException</code> : 不合法的存储桶名称。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoResponseException</code> : 服务器无响应。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>IOException</code> : 连接异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>org.xmlpull.v1.XmlPullParserException</code> : 解析返回的XML异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>ErrorResponseException</code> : 执行失败异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InternalException</code> : 内部错误。</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">try &#123;
  &#x2F;&#x2F; 删除之前先检查&#96;my-bucket&#96;是否存在。
  boolean found &#x3D; minioClient.bucketExists(&quot;mybucket&quot;);
  if (found) &#123;
    &#x2F;&#x2F; 删除&#96;my-bucketname&#96;存储桶，注意，只有存储桶为空时才能删除成功。
    minioClient.removeBucket(&quot;mybucket&quot;);
    System.out.println(&quot;mybucket is removed successfully&quot;);
  &#125; else &#123;
    System.out.println(&quot;mybucket does not exist&quot;);
  &#125;
&#125; catch(MinioException e) &#123;
  System.out.println(&quot;Error occurred: &quot; + e);
&#125;</code></pre></div></figure>



<h3 id="listObjects-String-bucketName-String-prefix-boolean-recursive-boolean-useVersion1"><a href="#listObjects-String-bucketName-String-prefix-boolean-recursive-boolean-useVersion1" class="headerlink" title="listObjects(String bucketName, String prefix, boolean recursive, boolean useVersion1)"></a>listObjects(String bucketName, String prefix, boolean recursive, boolean useVersion1)</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">public Iterable&lt;Result&lt;Item&gt;&gt; listObjects(String bucketName, String prefix, boolean recursive, boolean useVersion1)</code></pre></div></figure>

<p>列出某个存储桶中的所有对象。</p>
<p><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#listObjects-java.lang.String-java.lang.String-boolean-">查看Javadoc</a></p>
<p><strong>参数</strong></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>bucketName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶名称。</td>
</tr>
<tr>
<td align="left"><code>prefix</code></td>
<td align="left"><em>String</em></td>
<td align="left">对象名称的前缀</td>
</tr>
<tr>
<td align="left"><code>recursive</code></td>
<td align="left"><em>boolean</em></td>
<td align="left">是否递归查找，如果是false,就模拟文件夹结构查找。</td>
</tr>
<tr>
<td align="left"><code>useVersion1</code></td>
<td align="left"><em>boolean</em></td>
<td align="left">如果是true, 使用版本1 REST API</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">返回值类型</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>Iterable&lt;Result&lt;Item&gt;&gt;</code>:an iterator of Result Items.</td>
<td align="left"><em>None</em></td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">try &#123;
  &#x2F;&#x2F; 检查&#39;mybucket&#39;是否存在。
  boolean found &#x3D; minioClient.bucketExists(&quot;mybucket&quot;);
  if (found) &#123;
    &#x2F;&#x2F; 列出&#39;my-bucketname&#39;里的对象
    Iterable&lt;Result&lt;Item&gt;&gt; myObjects &#x3D; minioClient.listObjects(&quot;mybucket&quot;);
    for (Result&lt;Item&gt; result : myObjects) &#123;
      Item item &#x3D; result.get();
      System.out.println(item.lastModified() + &quot;, &quot; + item.size() + &quot;, &quot; + item.objectName());
    &#125;
  &#125; else &#123;
    System.out.println(&quot;mybucket does not exist&quot;);
  &#125;
&#125; catch (MinioException e) &#123;
  System.out.println(&quot;Error occurred: &quot; + e);
&#125;</code></pre></div></figure>



<h3 id="listIncompleteUploads-String-bucketName-String-prefix-boolean-recursive"><a href="#listIncompleteUploads-String-bucketName-String-prefix-boolean-recursive" class="headerlink" title="listIncompleteUploads(String bucketName, String prefix, boolean recursive)"></a>listIncompleteUploads(String bucketName, String prefix, boolean recursive)</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">public Iterable&lt;Result&lt;Upload&gt;&gt; listIncompleteUploads(String bucketName, String prefix, boolean recursive)</code></pre></div></figure>

<p>列出存储桶中被部分上传的对象。</p>
<p><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#listIncompleteUploads-java.lang.String-java.lang.String-boolean-">查看 Javadoc</a></p>
<p><strong>参数</strong></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>bucketName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶名称。</td>
</tr>
<tr>
<td align="left"><code>prefix</code></td>
<td align="left"><em>String</em></td>
<td align="left">对象名称的前缀，列出有该前缀的对象</td>
</tr>
<tr>
<td align="left"><code>recursive</code></td>
<td align="left"><em>boolean</em></td>
<td align="left">是否递归查找，如果是false,就模拟文件夹结构查找。</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">返回值类型</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>Iterable&lt;Result&lt;Upload&gt;&gt;</code>: an iterator of Upload.</td>
<td align="left"><em>None</em></td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">try &#123;
  &#x2F;&#x2F; 检查&#39;mybucket&#39;是否存在。
  boolean found &#x3D; minioClient.bucketExists(&quot;mybucket&quot;);
  if (found) &#123;
    &#x2F;&#x2F; 列出&#39;mybucket&#39;中所有未完成的multipart上传的的对象。 
    Iterable&lt;Result&lt;Upload&gt;&gt; myObjects &#x3D; minioClient.listIncompleteUploads(&quot;mybucket&quot;);
    for (Result&lt;Upload&gt; result : myObjects) &#123;
      Upload upload &#x3D; result.get();
      System.out.println(upload.uploadId() + &quot;, &quot; + upload.objectName());
    &#125;
  &#125; else &#123;
    System.out.println(&quot;mybucket does not exist&quot;);
  &#125;
&#125; catch (MinioException e) &#123;
  System.out.println(&quot;Error occurred: &quot; + e);
&#125;</code></pre></div></figure>



<h3 id="getBucketPolicy-String-bucketName-String-objectPrefix"><a href="#getBucketPolicy-String-bucketName-String-objectPrefix" class="headerlink" title="getBucketPolicy(String bucketName, String objectPrefix)"></a>getBucketPolicy(String bucketName, String objectPrefix)</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">public PolicyType getBucketPolicy(String bucketName, String objectPrefix)</code></pre></div></figure>

<p>获得指定对象前缀的存储桶策略。</p>
<p><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#getBucketPolicy-java.lang.String-java.lang.String-">查看 Javadoc</a></p>
<p><strong>参数</strong></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>bucketName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶名称。</td>
</tr>
<tr>
<td align="left"><code>objectPrefix</code></td>
<td align="left"><em>String</em></td>
<td align="left">策略适用的对象的前缀</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">返回值类型</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>PolicyType</code>: The current bucket policy type for a given bucket and objectPrefix.</td>
<td align="left">异常列表：</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidBucketNameException</code> : 不合法的存储桶名称。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoResponseException</code> : 服务器无响应。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>IOException</code> : 连接异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>org.xmlpull.v1.XmlPullParserException</code> : 解析返回的XML异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>ErrorResponseException</code> : 执行失败异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InternalException</code> : 内部错误。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidBucketNameException</code> : 不合法的存储桶名称。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidObjectPrefixException</code> : 不合法的对象前缀</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoSuchAlgorithmException</code> : 找不到相应的签名算法。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InsufficientDataException</code> : 在读到相应length之前就得到一个EOFException。</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">try &#123;
  System.out.println(&quot;Current policy: &quot; + minioClient.getBucketPolicy(&quot;myBucket&quot;, &quot;downloads&quot;));
&#125; catch (MinioException e) &#123;
  System.out.println(&quot;Error occurred: &quot; + e);
&#125;</code></pre></div></figure>

<h3 id="setBucketPolicy-String-bucketName-String-objectPrefix-PolicyType-policy"><a href="#setBucketPolicy-String-bucketName-String-objectPrefix-PolicyType-policy" class="headerlink" title="setBucketPolicy(String bucketName, String objectPrefix, PolicyType policy)"></a>setBucketPolicy(String bucketName, String objectPrefix, PolicyType policy)</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">public void setBucketPolicy(String bucketName, String objectPrefix, PolicyType policy)</code></pre></div></figure>

<p>给一个存储桶+对象前缀设置策略。</p>
<p><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#setBucketPolicy-java.lang.String-java.lang.String-io.minio.BucketPolicy-">查看 Javadoc</a></p>
<p><strong>参数</strong></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>bucketName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶名称。</td>
</tr>
<tr>
<td align="left"><code>objectPrefix</code></td>
<td align="left"><em>String</em></td>
<td align="left">对象前缀。</td>
</tr>
<tr>
<td align="left"><code>policy</code></td>
<td align="left"><em>PolicyType</em></td>
<td align="left">要赋予的策略，可选值有[PolicyType.NONE, PolicyType.READ_ONLY, PolicyType.READ_WRITE, PolicyType.WRITE_ONLY].</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">返回值类型</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="left">None</td>
<td align="left">异常列表：</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidBucketNameException</code> : 不合法的存储桶名称。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoResponseException</code> : 服务器无响应。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>IOException</code> : 连接异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>org.xmlpull.v1.XmlPullParserException</code> : 解析返回的XML异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>ErrorResponseException</code> : 执行失败异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InternalException</code> : 内部错误。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidBucketNameException</code> : 不合法的存储桶名称。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidObjectPrefixException</code> : 不合法的对象前缀</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoSuchAlgorithmException</code> : 找不到相应的签名算法。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InsufficientDataException</code> : 在读到相应length之前就得到一个EOFException。</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">try &#123;
  minioClient.setBucketPolicy(&quot;myBucket&quot;, &quot;uploads&quot;, PolicyType.READ_ONLY);
&#125; catch (MinioException e) &#123;
  System.out.println(&quot;Error occurred: &quot; + e);
&#125;</code></pre></div></figure>

<h2 id="3-Object-operations"><a href="#3-Object-operations" class="headerlink" title="3. Object operations"></a>3. Object operations</h2><h3 id="getObject-String-bucketName-String-objectName"><a href="#getObject-String-bucketName-String-objectName" class="headerlink" title="getObject(String bucketName, String objectName)"></a>getObject(String bucketName, String objectName)</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">public InputStream getObject(String bucketName, String objectName, long offset)</code></pre></div></figure>

<p>以流的形式下载一个对象。</p>
<p><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#getObject-java.lang.String-java.lang.String-long-">查看 Javadoc</a></p>
<p><strong>参数</strong></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>bucketName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶名称。</td>
</tr>
<tr>
<td align="left"><code>objectName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶里的对象名称。</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">返回值类型</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>InputStream</code>: InputStream containing the object data.</td>
<td align="left">异常列表：</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidBucketNameException</code> : 不合法的存储桶名称。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoResponseException</code> : 服务器无响应。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>IOException</code> : 连接异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>org.xmlpull.v1.XmlPullParserException</code> : 解析返回的XML异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>ErrorResponseException</code> : 执行失败异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InternalException</code> : 内部错误。</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">try &#123;
  &#x2F;&#x2F; 调用statObject()来判断对象是否存在。
  &#x2F;&#x2F; 如果不存在, statObject()抛出异常,
  &#x2F;&#x2F; 否则则代表对象存在。
  minioClient.statObject(&quot;mybucket&quot;, &quot;myobject&quot;);

  &#x2F;&#x2F; 获取&quot;myobject&quot;的输入流。
  InputStream stream &#x3D; minioClient.getObject(&quot;mybucket&quot;, &quot;myobject&quot;);

  &#x2F;&#x2F; 读取输入流直到EOF并打印到控制台。
  byte[] buf &#x3D; new byte[16384];
  int bytesRead;
  while ((bytesRead &#x3D; stream.read(buf, 0, buf.length)) &gt;&#x3D; 0) &#123;
    System.out.println(new String(buf, 0, bytesRead));
  &#125;

  &#x2F;&#x2F; 关闭流，此处为示例，流关闭最好放在finally块。
  stream.close();
&#125; catch (MinioException e) &#123;
  System.out.println(&quot;Error occurred: &quot; + e);
&#125;</code></pre></div></figure>



<h3 id="getObject-String-bucketName-String-objectName-long-offset-Long-length"><a href="#getObject-String-bucketName-String-objectName-long-offset-Long-length" class="headerlink" title="getObject(String bucketName, String objectName, long offset, Long length)"></a>getObject(String bucketName, String objectName, long offset, Long length)</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">public InputStream getObject(String bucketName, String objectName, long offset, Long length)</code></pre></div></figure>

<p>下载对象指定区域的字节数组做为流。（断点下载）</p>
<p><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#getObject-java.lang.String-java.lang.String-long-java.lang.Long-">查看 Javadoc</a></p>
<p><strong>参数</strong></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>bucketName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶名称。</td>
</tr>
<tr>
<td align="left"><code>objectName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶里的对象名称。</td>
</tr>
<tr>
<td align="left"><code>offset</code></td>
<td align="left"><em>Long</em></td>
<td align="left"><code>offset</code> 是起始字节的位置</td>
</tr>
<tr>
<td align="left"><code>length</code></td>
<td align="left"><em>Long</em></td>
<td align="left"><code>length</code>是要读取的长度 (可选，如果无值则代表读到文件结尾)。</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">返回值类型</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>InputStream</code> : InputStream containing the object’s data.</td>
<td align="left">异常列表：</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidBucketNameException</code> : 不合法的存储桶名称。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoResponseException</code> : 服务器无响应。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>IOException</code> : 连接异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>org.xmlpull.v1.XmlPullParserException</code> : 解析返回的XML异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>ErrorResponseException</code> : 执行失败异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InternalException</code> : 内部错误。</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">try &#123;

  &#x2F;&#x2F; 调用statObject()来判断对象是否存在。
  &#x2F;&#x2F; 如果不存在, statObject()抛出异常,
  &#x2F;&#x2F; 否则则代表对象存在。
  minioClient.statObject(&quot;mybucket&quot;, &quot;myobject&quot;);

  &#x2F;&#x2F; 获取指定offset和length的&quot;myobject&quot;的输入流。
  InputStream stream &#x3D; minioClient.getObject(&quot;mybucket&quot;, &quot;myobject&quot;, 1024L, 4096L);

  &#x2F;&#x2F; 读取输入流直到EOF并打印到控制台。
  byte[] buf &#x3D; new byte[16384];
  int bytesRead;
  while ((bytesRead &#x3D; stream.read(buf, 0, buf.length)) &gt;&#x3D; 0) &#123;
    System.out.println(new String(buf, 0, bytesRead));
  &#125;

  &#x2F;&#x2F; 关闭流。
  stream.close();
&#125; catch (MinioException e) &#123;
  System.out.println(&quot;Error occurred: &quot; + e);
&#125;</code></pre></div></figure>



<h3 id="getObject-String-bucketName-String-objectName-String-fileName"><a href="#getObject-String-bucketName-String-objectName-String-fileName" class="headerlink" title="getObject(String bucketName, String objectName, String fileName)"></a>getObject(String bucketName, String objectName, String fileName)</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">public void getObject(String bucketName, String objectName, String fileName)</code></pre></div></figure>

<p>下载并将文件保存到本地。</p>
<p><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#getObject-java.lang.String-java.lang.String-java.lang.String-">查看 Javadoc</a></p>
<p><strong>参数</strong></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>bucketName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶名称。</td>
</tr>
<tr>
<td align="left"><code>objectName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶里的对象名称。</td>
</tr>
<tr>
<td align="left"><code>fileName</code></td>
<td align="left"><em>String</em></td>
<td align="left">File name.</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">返回值类型</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="left">None</td>
<td align="left">异常列表：</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidBucketNameException</code> : 不合法的存储桶名称。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoResponseException</code> : 服务器无响应。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>IOException</code> : 连接异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>org.xmlpull.v1.XmlPullParserException</code> : 解析返回的XML异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>ErrorResponseException</code> : 执行失败异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InternalException</code> : 内部错误。</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">try &#123;
  &#x2F;&#x2F; 调用statObject()来判断对象是否存在。
  &#x2F;&#x2F; 如果不存在, statObject()抛出异常,
  &#x2F;&#x2F; 否则则代表对象存在。
  minioClient.statObject(&quot;mybucket&quot;, &quot;myobject&quot;);

  &#x2F;&#x2F; 获取myobject的流并保存到photo.jpg文件中。
  minioClient.getObject(&quot;mybucket&quot;, &quot;myobject&quot;, &quot;photo.jpg&quot;);

&#125; catch (MinioException e) &#123;
  System.out.println(&quot;Error occurred: &quot; + e);
&#125;</code></pre></div></figure>



<h3 id="getObject-String-bucketName-String-objectName-SecretKey-key"><a href="#getObject-String-bucketName-String-objectName-SecretKey-key" class="headerlink" title="getObject(String bucketName, String objectName, SecretKey key)"></a>getObject(String bucketName, String objectName, SecretKey key)</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">public CipherInputStream getObject(String bucketName, String objectName, SecretKey key)</code></pre></div></figure>

<p>在给定的存储桶中获取整个加密对象的数据作为InputStream，然后用传入的master key解密和加密对象关联的content key。然后创建一个含有InputStream和Cipher的CipherInputStream。这个Cipher被初始为用于使用content key进行解密，所以CipherInputStream会在返回数据前，尝试读取数据并进行解密。所以read()方法返回的是处理过的原始对象数据。</p>
<p>CipherInputStream必须用完关闭，否则连接不会被释放。</p>
<p><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#getObject-java.lang.String-java.lang.String-javax.crypto.SecretKey-">查看 Javadoc</a></p>
<p><strong>参数</strong></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>bucketName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶名称。</td>
</tr>
<tr>
<td align="left"><code>objectName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶里的对象名称。</td>
</tr>
<tr>
<td align="left"><code>key</code></td>
<td align="left"><em>SecretKey</em></td>
<td align="left"><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/7/docs/api/javax/crypto/SecretKey.html">SecretKey</a>类型的数据。</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">返回值类型</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="left">None</td>
<td align="left">异常列表：</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidBucketNameException</code> : 不合法的存储桶名称。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoResponseException</code> : 服务器无响应。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>IOException</code> : 连接异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>org.xmlpull.v1.XmlPullParserException</code> : 解析返回的XML异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>ErrorResponseException</code> : 执行失败异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InternalException</code> : 内部错误。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidEncryptionMetadataException</code> : 加密秘钥错误。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>BadPaddingException</code> : 错误的padding</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>IllegalBlockSizeException</code> : 不正确的block size</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoSuchPaddingException</code> : 错误的pading类型</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidAlgorithmParameterException</code> : 该算法不存在</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">try &#123;
  &#x2F;&#x2F; 调用statObject()来判断对象是否存在。
  &#x2F;&#x2F; 如果不存在, statObject()抛出异常,
  &#x2F;&#x2F; 否则则代表对象存在。
  minioClient.statObject(&quot;mybucket&quot;, &quot;myobject&quot;);

  &#x2F;&#x2F;生成256位AES key。
  KeyGenerator symKeyGenerator &#x3D; KeyGenerator.getInstance(&quot;AES&quot;);
  symKeyGenerator.init(256);
  SecretKey symKey &#x3D; symKeyGenerator.generateKey();

  &#x2F;&#x2F; 获取对象数据并保存到photo.jpg
  InputStream stream &#x3D; minioClient.getObject(&quot;testbucket&quot;, &quot;my-objectname&quot;, symKey);

  &#x2F;&#x2F; 读流到EOF，并输出到控制台。
  byte[] buf &#x3D; new byte[16384];
  int bytesRead;
  while ((bytesRead &#x3D; stream.read(buf, 0, buf.length)) &gt;&#x3D; 0) &#123;
    System.out.println(new String(buf, 0, bytesRead, StandardCharsets.UTF_8));
  &#125;

  &#x2F;&#x2F; 关闭流。
  stream.close();

&#125; catch (MinioException e) &#123;
  System.out.println(&quot;Error occurred: &quot; + e);
&#125;</code></pre></div></figure>



<h3 id="getObject-String-bucketName-String-objectName-KeyPair-key"><a href="#getObject-String-bucketName-String-objectName-KeyPair-key" class="headerlink" title="getObject(String bucketName, String objectName, KeyPair key)"></a>getObject(String bucketName, String objectName, KeyPair key)</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">public InputStream getObject(String bucketName, String objectName, KeyPair key)</code></pre></div></figure>

<p>在给定的存储桶中获取整个加密对象的数据作为InputStream，然后用传入的master keyPair解密和加密对象关联的content key。然后创建一个含有InputStream和Cipher的CipherInputStream。这个Cipher被初始为用于使用content key进行解密，所以CipherInputStream会在返回数据前，尝试读取数据并进行解密。所以read()方法返回的是处理过的原始对象数据。</p>
<p>CipherInputStream必须用完关闭，否则连接不会被释放。</p>
<p><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#getObject-java.lang.String-java.lang.String-java.security.KeyPair-">查看 Javadoc</a></p>
<p><strong>参数</strong></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>bucketName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶名称。</td>
</tr>
<tr>
<td align="left"><code>objectName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶里的对象名称。</td>
</tr>
<tr>
<td align="left"><code>key</code></td>
<td align="left"><em>KeyPair</em></td>
<td align="left">RSA <a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/7/docs/api/java/security/KeyPair.html">KeyPair</a>类型的对象。</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">返回值类型</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="left">None</td>
<td align="left">异常列表：</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidBucketNameException</code> : 不合法的存储桶名称。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoResponseException</code> : 服务器无响应。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>IOException</code> : 连接异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>org.xmlpull.v1.XmlPullParserException</code> : 解析返回的XML异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>ErrorResponseException</code> : 执行失败异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InternalException</code> : 内部错误。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidEncryptionMetadataException</code> : 加密秘钥错误。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>BadPaddingException</code> : 错误的padding</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>IllegalBlockSizeException</code> : 不正确的block size</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoSuchPaddingException</code> : 错误的pading类型</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidAlgorithmParameterException</code> : 该算法不存在</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">try &#123;
  &#x2F;&#x2F; 调用statObject()来判断对象是否存在。
  &#x2F;&#x2F; 如果不存在, statObject()抛出异常,
  &#x2F;&#x2F; 否则则代表对象存在。
  minioClient.statObject(&quot;mybucket&quot;, &quot;myobject&quot;);

  KeyPairGenerator keyGenerator &#x3D; KeyPairGenerator.getInstance(&quot;RSA&quot;);
  keyGenerator.initialize(1024, new SecureRandom());
  KeyPair keypair &#x3D; keyGenerator.generateKeyPair();

  &#x2F;&#x2F; 获取对象数据并保存到photo.jpg
  InputStream stream &#x3D; minioClient.getObject(&quot;testbucket&quot;, &quot;my-objectname&quot;, keypair);

  &#x2F;&#x2F; 读流到EOF，并输出到控制台。
  byte[] buf &#x3D; new byte[16384];
  int bytesRead;
  while ((bytesRead &#x3D; stream.read(buf, 0, buf.length)) &gt;&#x3D; 0) &#123;
    System.out.println(new String(buf, 0, bytesRead, StandardCharsets.UTF_8));
  &#125;

  &#x2F;&#x2F; 关闭流。
  stream.close();

&#125; catch (MinioException e) &#123;
  System.out.println(&quot;Error occurred: &quot; + e);
&#125;</code></pre></div></figure>



<h3 id="putObject-String-bucketName-String-objectName-InputStream-stream-long-size-String-contentType"><a href="#putObject-String-bucketName-String-objectName-InputStream-stream-long-size-String-contentType" class="headerlink" title="putObject(String bucketName, String objectName, InputStream stream, long size, String contentType)"></a>putObject(String bucketName, String objectName, InputStream stream, long size, String contentType)</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">public void putObject(String bucketName, String objectName, InputStream stream, long size, String contentType)</code></pre></div></figure>

<p>通过InputStream上传对象。</p>
<p><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#putObject-java.lang.String-java.lang.String-java.io.InputStream-long-java.lang.String-">查看 Javadoc</a></p>
<p><strong>参数</strong></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>bucketName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶名称。</td>
</tr>
<tr>
<td align="left"><code>objectName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶里的对象名称。</td>
</tr>
<tr>
<td align="left"><code>stream</code></td>
<td align="left"><em>InputStream</em></td>
<td align="left">要上传的流。</td>
</tr>
<tr>
<td align="left"><code>size</code></td>
<td align="left"><em>long</em></td>
<td align="left">要上传的<code>stream</code>的size</td>
</tr>
<tr>
<td align="left"><code>contentType</code></td>
<td align="left"><em>String</em></td>
<td align="left">Content type。</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">返回值类型</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="left">None</td>
<td align="left">异常列表：</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidBucketNameException</code> : 不合法的存储桶名称。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoResponseException</code> : 服务器无响应。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>IOException</code> : 连接异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>org.xmlpull.v1.XmlPullParserException</code> : 解析返回的XML异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>ErrorResponseException</code> : 执行失败异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InternalException</code> : 内部错误。</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<p>单个对象的最大大小限制在5TB。putObject在对象大于5MiB时，自动使用multiple parts方式上传。这样，当上传失败时，客户端只需要上传未成功的部分即可（类似断点上传）。上传的对象使用MD5SUM签名进行完整性验证。</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">try &#123;
  StringBuilder builder &#x3D; new StringBuilder();
  for (int i &#x3D; 0; i &lt; 1000; i++) &#123;
    builder.append(&quot;Sphinx of black quartz, judge my vow: Used by Adobe InDesign to display font samples. &quot;);
    builder.append(&quot;(29 letters)\n&quot;);
    builder.append(&quot;Jackdaws love my big sphinx of quartz: Similarly, used by Windows XP for some fonts. &quot;);
    builder.append(&quot;(31 letters)\n&quot;);
    builder.append(&quot;Pack my box with five dozen liquor jugs: According to Wikipedia, this one is used on &quot;);
    builder.append(&quot;NASAs Space Shuttle. (32 letters)\n&quot;);
    builder.append(&quot;The quick onyx goblin jumps over the lazy dwarf: Flavor text from an Unhinged Magic Card. &quot;);
    builder.append(&quot;(39 letters)\n&quot;);
    builder.append(&quot;How razorback-jumping frogs can level six piqued gymnasts!: Not going to win any brevity &quot;);
    builder.append(&quot;awards at 49 letters long, but old-time Mac users may recognize it.\n&quot;);
    builder.append(&quot;Cozy lummox gives smart squid who asks for job pen: A 41-letter tester sentence for Mac &quot;);
    builder.append(&quot;computers after System 7.\n&quot;);
    builder.append(&quot;A few others we like: Amazingly few discotheques provide jukeboxes; Now fax quiz Jack! my &quot;);
    builder.append(&quot;brave ghost pled; Watch Jeopardy!, Alex Trebeks fun TV quiz game.\n&quot;);
    builder.append(&quot;- --\n&quot;);
  &#125;
  ByteArrayInputStream bais &#x3D; new
  ByteArrayInputStream(builder.toString().getBytes(&quot;UTF-8&quot;));
  &#x2F;&#x2F; 创建对象
  minioClient.putObject(&quot;mybucket&quot;, &quot;myobject&quot;, bais, bais.available(), &quot;application&#x2F;octet-stream&quot;);
  bais.close();
  System.out.println(&quot;myobject is uploaded successfully&quot;);
&#125; catch(MinioException e) &#123;
  System.out.println(&quot;Error occurred: &quot; + e);
&#125;</code></pre></div></figure>



<h3 id="putObject-String-bucketName-String-objectName-String-fileName"><a href="#putObject-String-bucketName-String-objectName-String-fileName" class="headerlink" title="putObject(String bucketName, String objectName, String fileName)"></a>putObject(String bucketName, String objectName, String fileName)</h3><figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">public void putObject(String bucketName, String objectName, String fileName)</code></pre></div></figure>

<p>通过文件上传到对象中。<br><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#putObject-java.lang.String-java.lang.String-java.lang.String-">查看 Javadoc</a></p>
<p><strong>参数</strong></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>bucketName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶名称。</td>
</tr>
<tr>
<td align="left"><code>objectName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶里的对象名称。</td>
</tr>
<tr>
<td align="left"><code>fileName</code></td>
<td align="left"><em>String</em></td>
<td align="left">File name.</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">返回值类型</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="left">None</td>
<td align="left">异常列表：</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidBucketNameException</code> : 不合法的存储桶名称。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoResponseException</code> : 服务器无响应。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>IOException</code> : 连接异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>org.xmlpull.v1.XmlPullParserException</code> : 解析返回的XML异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>ErrorResponseException</code> : 执行失败异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InternalException</code> : 内部错误。</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">try &#123;
  minioClient.putObject(&quot;mybucket&quot;,  &quot;island.jpg&quot;, &quot;&#x2F;mnt&#x2F;photos&#x2F;island.jpg&quot;)
  System.out.println(&quot;island.jpg is uploaded successfully&quot;);
&#125; catch(MinioException e) &#123;
  System.out.println(&quot;Error occurred: &quot; + e);
&#125;</code></pre></div></figure>



<h3 id="putObject-String-bucketName-String-objectName-InputStream-stream-long-size-String-contentType-SecretKey-key"><a href="#putObject-String-bucketName-String-objectName-InputStream-stream-long-size-String-contentType-SecretKey-key" class="headerlink" title="putObject(String bucketName, String objectName, InputStream stream, long size, String contentType, SecretKey key)"></a>putObject(String bucketName, String objectName, InputStream stream, long size, String contentType, SecretKey key)</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">public void putObject(String bucketName, String objectName, InputStream stream, long size, String contentType, SecretKey key)</code></pre></div></figure>

<p>拿到流的数据，使用随机生成的content key进行加密，并上传到指定存储桶中。同时将加密后的content key和iv做为加密对象有header也上传到存储桶中。content key使用传入到该方法的master key进行加密。</p>
<p>如果对象大于5MB,客户端会自动进行multi part上传。</p>
<p><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#putObject-java.lang.String-java.lang.String-java.io.InputStream-long-java.lang.String-javax.crypto.SecretKey-">查看 Javadoc</a></p>
<p><strong>参数</strong></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>bucketName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶名称。</td>
</tr>
<tr>
<td align="left"><code>objectName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶里的对象名称。</td>
</tr>
<tr>
<td align="left"><code>stream</code></td>
<td align="left"><em>InputStream</em></td>
<td align="left">要上传的流。</td>
</tr>
<tr>
<td align="left"><code>size</code></td>
<td align="left"><em>long</em></td>
<td align="left">要上传的流的大小。</td>
</tr>
<tr>
<td align="left"><code>contentType</code></td>
<td align="left"><em>String</em></td>
<td align="left">Content type。</td>
</tr>
<tr>
<td align="left"><code>key</code></td>
<td align="left"><em>SecretKey</em></td>
<td align="left">用AES初使化的对象<a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/7/docs/api/javax/crypto/SecretKey.html">SecretKey</a>。</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">返回值类型</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="left">None</td>
<td align="left">异常列表：</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidBucketNameException</code> : 不合法的存储桶名称。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoResponseException</code> : 服务器无响应。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>IOException</code> : 连接异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>org.xmlpull.v1.XmlPullParserException</code> : 解析返回的XML异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>ErrorResponseException</code> : 执行失败异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InternalException</code> : 内部错误。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidAlgorithmParameterException</code> : 错误的加密算法。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>BadPaddingException</code> : 不正确的padding.</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>IllegalBlockSizeException</code> : 不正确的block。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoSuchPaddingException</code> : 错误的padding类型。</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<p>对象使用随机生成的key进行加密，然后这个用于加密数据的key又被由仅被client知道的master key(封装在encryptionMaterials对象里)进行加密。这个被加密后的key和IV做为对象的header和加密后的对象一起被上传到存储服务上。</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">try &#123;
  StringBuilder builder &#x3D; new StringBuilder();
  for (int i &#x3D; 0; i &lt; 1000; i++) &#123;
    builder.append(&quot;Sphinx of black quartz, judge my vow: Used by Adobe InDesign to display font samples. &quot;);
    builder.append(&quot;(29 letters)\n&quot;);
    builder.append(&quot;Jackdaws love my big sphinx of quartz: Similarly, used by Windows XP for some fonts. &quot;);
    builder.append(&quot;(31 letters)\n&quot;);
    builder.append(&quot;Pack my box with five dozen liquor jugs: According to Wikipedia, this one is used on &quot;);
    builder.append(&quot;NASAs Space Shuttle. (32 letters)\n&quot;);
    builder.append(&quot;The quick onyx goblin jumps over the lazy dwarf: Flavor text from an Unhinged Magic Card. &quot;);
    builder.append(&quot;(39 letters)\n&quot;);
    builder.append(&quot;How razorback-jumping frogs can level six piqued gymnasts!: Not going to win any brevity &quot;);
    builder.append(&quot;awards at 49 letters long, but old-time Mac users may recognize it.\n&quot;);
    builder.append(&quot;Cozy lummox gives smart squid who asks for job pen: A 41-letter tester sentence for Mac &quot;);
    builder.append(&quot;computers after System 7.\n&quot;);
    builder.append(&quot;A few others we like: Amazingly few discotheques provide jukeboxes; Now fax quiz Jack! my &quot;);
    builder.append(&quot;brave ghost pled; Watch Jeopardy!, Alex Trebeks fun TV quiz game.\n&quot;);
    builder.append(&quot;- --\n&quot;);
  &#125;
  ByteArrayInputStream bais &#x3D; new
  ByteArrayInputStream(builder.toString().getBytes(&quot;UTF-8&quot;));

  &#x2F;&#x2F;生成256位AES key.
  KeyGenerator symKeyGenerator &#x3D; KeyGenerator.getInstance(&quot;AES&quot;);
  symKeyGenerator.init(256);
  SecretKey symKey &#x3D; symKeyGenerator.generateKey();

  &#x2F;&#x2F; 创建一个对象
  minioClient.putObject(&quot;mybucket&quot;, &quot;myobject&quot;, bais, bais.available(), &quot;application&#x2F;octet-stream&quot;, symKey);
  bais.close();
  System.out.println(&quot;myobject is uploaded successfully&quot;);
&#125; catch(MinioException e) &#123;
  System.out.println(&quot;Error occurred: &quot; + e);
&#125;</code></pre></div></figure>



<h3 id="putObject-String-bucketName-String-objectName-InputStream-stream-long-size-String-contentType-KeyPair-key"><a href="#putObject-String-bucketName-String-objectName-InputStream-stream-long-size-String-contentType-KeyPair-key" class="headerlink" title="putObject(String bucketName, String objectName, InputStream stream, long size, String contentType, KeyPair key)"></a>putObject(String bucketName, String objectName, InputStream stream, long size, String contentType, KeyPair key)</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">public void putObject(String bucketName, String objectName, InputStream stream, long size, String contentType, KeyPair key)</code></pre></div></figure>

<p>拿到流的数据，使用随机生成的content key进行加密，并上传到指定存储桶中。同时将加密后的content key和iv做为加密对象有header也上传到存储桶中。content key使用传入到该方法的master key进行加密。</p>
<p>如果对象大于5MB,客户端会自动进行multi part上传。</p>
<p><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#putObject-java.lang.String-java.lang.String-java.io.InputStream-long-java.lang.String-java.security.KeyPair-">查看 Javadoc</a></p>
<p><strong>参数</strong></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>bucketName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶名称。</td>
</tr>
<tr>
<td align="left"><code>objectName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶里的对象名称。</td>
</tr>
<tr>
<td align="left"><code>stream</code></td>
<td align="left"><em>InputStream</em></td>
<td align="left">要上传的流。</td>
</tr>
<tr>
<td align="left"><code>size</code></td>
<td align="left"><em>long</em></td>
<td align="left">要上传的流的大小。</td>
</tr>
<tr>
<td align="left"><code>contentType</code></td>
<td align="left"><em>String</em></td>
<td align="left">Content type。</td>
</tr>
<tr>
<td align="left"><code>key</code></td>
<td align="left"><em>KeyPair</em></td>
<td align="left">一个RSA <a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/7/docs/api/java/security/KeyPair.html">KeyPair</a>的对象。</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">返回值类型</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="left">None</td>
<td align="left">异常列表：</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidBucketNameException</code> : 不合法的存储桶名称。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoResponseException</code> : 服务器无响应。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>IOException</code> : 连接异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>org.xmlpull.v1.XmlPullParserException</code> : 解析返回的XML异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>ErrorResponseException</code> : 执行失败异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InternalException</code> : 内部错误。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidAlgorithmParameterException</code> : 错误的加密算法。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>BadPaddingException</code> : 不正确的padding。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>IllegalBlockSizeException</code> : 不正确的block。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoSuchPaddingException</code> : 错误的pading类型。</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<p>对象使用随机生成的key进行加密，然后这个用于加密数据的key又被由仅被client知道的master key(封装在encryptionMaterials对象里)进行加密。这个被加密后的key和IV做为对象的header和加密后的对象一起被上传到存储服务上。</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">try &#123;
  StringBuilder builder &#x3D; new StringBuilder();
  for (int i &#x3D; 0; i &lt; 1000; i++) &#123;
    builder.append(&quot;Sphinx of black quartz, judge my vow: Used by Adobe InDesign to display font samples. &quot;);
    builder.append(&quot;(29 letters)\n&quot;);
    builder.append(&quot;Jackdaws love my big sphinx of quartz: Similarly, used by Windows XP for some fonts. &quot;);
    builder.append(&quot;(31 letters)\n&quot;);
    builder.append(&quot;Pack my box with five dozen liquor jugs: According to Wikipedia, this one is used on &quot;);
    builder.append(&quot;NASAs Space Shuttle. (32 letters)\n&quot;);
    builder.append(&quot;The quick onyx goblin jumps over the lazy dwarf: Flavor text from an Unhinged Magic Card. &quot;);
    builder.append(&quot;(39 letters)\n&quot;);
    builder.append(&quot;How razorback-jumping frogs can level six piqued gymnasts!: Not going to win any brevity &quot;);
    builder.append(&quot;awards at 49 letters long, but old-time Mac users may recognize it.\n&quot;);
    builder.append(&quot;Cozy lummox gives smart squid who asks for job pen: A 41-letter tester sentence for Mac &quot;);
    builder.append(&quot;computers after System 7.\n&quot;);
    builder.append(&quot;A few others we like: Amazingly few discotheques provide jukeboxes; Now fax quiz Jack! my &quot;);
    builder.append(&quot;brave ghost pled; Watch Jeopardy!, Alex Trebeks fun TV quiz game.\n&quot;);
    builder.append(&quot;- --\n&quot;);
  &#125;
  ByteArrayInputStream bais &#x3D; new
  ByteArrayInputStream(builder.toString().getBytes(&quot;UTF-8&quot;));

  KeyPairGenerator keyGenerator &#x3D; KeyPairGenerator.getInstance(&quot;RSA&quot;);
  keyGenerator.initialize(1024, new SecureRandom());
  KeyPair keypair &#x3D; keyGenerator.generateKeyPair();

  &#x2F;&#x2F; Create an object
  minioClient.putObject(&quot;mybucket&quot;, &quot;myobject&quot;, bais, bais.available(), &quot;application&#x2F;octet-stream&quot;, keypair);
  bais.close();
  System.out.println(&quot;myobject is uploaded successfully&quot;);
&#125; catch(MinioException e) &#123;
  System.out.println(&quot;Error occurred: &quot; + e);
&#125;</code></pre></div></figure>



<h3 id="statObject-String-bucketName-String-objectName"><a href="#statObject-String-bucketName-String-objectName" class="headerlink" title="statObject(String bucketName, String objectName)"></a>statObject(String bucketName, String objectName)</h3><p><em><code>public ObjectStat statObject(String bucketName, String objectName)</code></em></p>
<p>获取对象的元数据。</p>
<p><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#statObject-java.lang.String-java.lang.String-">查看 Javadoc</a></p>
<p><strong>参数</strong></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>bucketName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶名称。</td>
</tr>
<tr>
<td align="left"><code>objectName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶里的对象名称。</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">返回值类型</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>ObjectStat</code>: Populated object meta data.</td>
<td align="left">异常列表：</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidBucketNameException</code> : 不合法的存储桶名称。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoResponseException</code> : 服务器无响应。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>IOException</code> : 连接异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>org.xmlpull.v1.XmlPullParserException</code> : 解析返回的XML异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>ErrorResponseException</code> : 执行失败异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InternalException</code> : 内部错误。</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">try &#123;
  &#x2F;&#x2F; 获得对象的元数据。
  ObjectStat objectStat &#x3D; minioClient.statObject(&quot;mybucket&quot;, &quot;myobject&quot;);
  System.out.println(objectStat);
&#125; catch(MinioException e) &#123;
  System.out.println(&quot;Error occurred: &quot; + e);
&#125;</code></pre></div></figure>



<h3 id="copyObject-String-bucketName-String-objectName-String-destBucketName-String-destObjectName-CopyConditions-cpConds-Map-metadata"><a href="#copyObject-String-bucketName-String-objectName-String-destBucketName-String-destObjectName-CopyConditions-cpConds-Map-metadata" class="headerlink" title="copyObject(String bucketName, String objectName, String destBucketName, String destObjectName, CopyConditions cpConds, Map metadata)"></a>copyObject(String bucketName, String objectName, String destBucketName, String destObjectName, CopyConditions cpConds, Map metadata)</h3><p><em><code>public void copyObject(String bucketName, String objectName, String destBucketName, String destObjectName, CopyConditions cpConds, Map&lt;String, String&gt; metadata)</code></em></p>
<p>从objectName指定的对象中将数据拷贝到destObjectName指定的对象。</p>
<p><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#copyObject-java.lang.String-java.lang.String-java.lang.String-java.lang.String-io.minio.CopyConditions-">查看 Javadoc</a></p>
<p><strong>参数</strong></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>bucketName</code></td>
<td align="left"><em>String</em></td>
<td align="left">源存储桶名称。</td>
</tr>
<tr>
<td align="left"><code>objectName</code></td>
<td align="left"><em>String</em></td>
<td align="left">源存储桶中的源对象名称。</td>
</tr>
<tr>
<td align="left"><code>destBucketName</code></td>
<td align="left"><em>String</em></td>
<td align="left">目标存储桶名称。</td>
</tr>
<tr>
<td align="left"><code>destObjectName</code></td>
<td align="left"><em>String</em></td>
<td align="left">要创建的目标对象名称,如果为空，默认为源对象名称。</td>
</tr>
<tr>
<td align="left"><code>copyConditions</code></td>
<td align="left"><em>CopyConditions</em></td>
<td align="left">拷贝操作的一些条件Map。</td>
</tr>
<tr>
<td align="left"><code>metadata</code></td>
<td align="left"><em>Map</em></td>
<td align="left">给目标对象的元数据Map。</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">返回值类型</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="left">None</td>
<td align="left">异常列表：</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidBucketNameException</code> : 不合法的存储桶名称。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoResponseException</code> : 服务器无响应。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>IOException</code> : 连接异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>org.xmlpull.v1.XmlPullParserException</code> : 解析返回的XML异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>ErrorResponseException</code> : 执行失败异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InternalException</code> : 内部错误。</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<p>本API执行了一个服务端的拷贝操作。</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">try &#123;
  CopyConditions copyConditions &#x3D; new CopyConditions();
  copyConditions.setMatchETagNone(&quot;TestETag&quot;);

  minioClient.copyObject(&quot;mybucket&quot;,  &quot;island.jpg&quot;, &quot;mydestbucket&quot;, &quot;processed.png&quot;, copyConditions);
  System.out.println(&quot;island.jpg is uploaded successfully&quot;);
&#125; catch(MinioException e) &#123;
  System.out.println(&quot;Error occurred: &quot; + e);
&#125;</code></pre></div></figure>



<h3 id="removeObject-String-bucketName-String-objectName"><a href="#removeObject-String-bucketName-String-objectName" class="headerlink" title="removeObject(String bucketName, String objectName)"></a>removeObject(String bucketName, String objectName)</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">public void removeObject(String bucketName, String objectName)</code></pre></div></figure>

<p>删除一个对象。</p>
<p><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#removeObject-java.lang.String-java.lang.String-">查看 Javadoc</a></p>
<p><strong>参数</strong></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>bucketName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶名称。</td>
</tr>
<tr>
<td align="left"><code>objectName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶里的对象名称。</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">返回值类型</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="left">None</td>
<td align="left">异常列表：</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidBucketNameException</code> : 不合法的存储桶名称。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoResponseException</code> : 服务器无响应。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>IOException</code> : 连接异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>org.xmlpull.v1.XmlPullParserException</code> : 解析返回的XML异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>ErrorResponseException</code> : 执行失败异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InternalException</code> : 内部错误。</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">try &#123;
      &#x2F;&#x2F; 从mybucket中删除myobject。
      minioClient.removeObject(&quot;mybucket&quot;, &quot;myobject&quot;);
      System.out.println(&quot;successfully removed mybucket&#x2F;myobject&quot;);
&#125; catch (MinioException e) &#123;
      System.out.println(&quot;Error: &quot; + e);
&#125;</code></pre></div></figure>



<h3 id="removeObject-String-bucketName-Iterable-objectNames"><a href="#removeObject-String-bucketName-Iterable-objectNames" class="headerlink" title="removeObject(String bucketName, Iterable objectNames)"></a>removeObject(String bucketName, Iterable objectNames)</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">public Iterable&lt;Result&lt;DeleteError&gt;&gt; removeObject(String bucketName, Iterable&lt;String&gt; objectNames)</code></pre></div></figure>

<p>删除多个对象。</p>
<p><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#removeObject-java.lang.String-java.lang.String-">查看 Javadoc</a></p>
<p><strong>参数</strong></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>bucketName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶名称。</td>
</tr>
<tr>
<td align="left"><code>objectNames</code></td>
<td align="left"><em>Iterable</em></td>
<td align="left">含有要删除的多个object名称的迭代器对象。</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">返回值类型</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>Iterable&lt;Result&lt;DeleteError&gt;&gt;</code>:an iterator of Result DeleteError.</td>
<td align="left"><em>None</em></td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">List&lt;String&gt; objectNames &#x3D; new LinkedList&lt;String&gt;();
objectNames.add(&quot;my-objectname1&quot;);
objectNames.add(&quot;my-objectname2&quot;);
objectNames.add(&quot;my-objectname3&quot;);
try &#123;
      &#x2F;&#x2F; 删除my-bucketname里的多个对象
      for (Result&lt;DeleteError&gt; errorResult: minioClient.removeObject(&quot;my-bucketname&quot;, objectNames)) &#123;
        DeleteError error &#x3D; errorResult.get();
        System.out.println(&quot;Failed to remove &#39;&quot; + error.objectName() + &quot;&#39;. Error:&quot; + error.message());
      &#125;
&#125; catch (MinioException e) &#123;
      System.out.println(&quot;Error: &quot; + e);
&#125;</code></pre></div></figure>



<h3 id="removeIncompleteUpload-String-bucketName-String-objectName"><a href="#removeIncompleteUpload-String-bucketName-String-objectName" class="headerlink" title="removeIncompleteUpload(String bucketName, String objectName)"></a>removeIncompleteUpload(String bucketName, String objectName)</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">public void removeIncompleteUpload(String bucketName, String objectName)</code></pre></div></figure>

<p>删除一个未完整上传的对象。</p>
<p><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#removeIncompleteUpload-java.lang.String-java.lang.String-">查看 Javadoc</a></p>
<p><strong>参数</strong></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>bucketName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶名称。</td>
</tr>
<tr>
<td align="left"><code>objectName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶里的对象名称。</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">返回值类型</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="left">None</td>
<td align="left">异常列表：</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidBucketNameException</code> : 不合法的存储桶名称。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoResponseException</code> : 服务器无响应。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>IOException</code> : 连接异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>org.xmlpull.v1.XmlPullParserException</code> : 解析返回的XML异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>ErrorResponseException</code> : 执行失败异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InternalException</code> : 内部错误。</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">try &#123;
    &#x2F;&#x2F; 从存储桶中删除名为myobject的未完整上传的对象。
    minioClient.removeIncompleteUpload(&quot;mybucket&quot;, &quot;myobject&quot;);
    System.out.println(&quot;successfully removed all incomplete upload session of my-bucketname&#x2F;my-objectname&quot;);
&#125; catch(MinioException e) &#123;
    System.out.println(&quot;Error occurred: &quot; + e);
&#125;</code></pre></div></figure>

<h2 id="4-Presigned操作"><a href="#4-Presigned操作" class="headerlink" title="4. Presigned操作"></a>4. Presigned操作</h2><h3 id="presignedGetObject-String-bucketName-String-objectName-Integer-expires"><a href="#presignedGetObject-String-bucketName-String-objectName-Integer-expires" class="headerlink" title="presignedGetObject(String bucketName, String objectName, Integer expires)"></a>presignedGetObject(String bucketName, String objectName, Integer expires)</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">public String presignedGetObject(String bucketName, String objectName, Integer expires)</code></pre></div></figure>

<p>生成一个给HTTP GET请求用的presigned URL。浏览器&#x2F;移动端的客户端可以用这个URL进行下载，即使其所在的存储桶是私有的。这个presigned URL可以设置一个失效时间，默认值是7天。</p>
<p><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#presignedGetObject-java.lang.String-java.lang.String-java.lang.Integer-">查看 Javadoc</a></p>
<p><strong>参数</strong></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>bucketName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶名称。</td>
</tr>
<tr>
<td align="left"><code>objectName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶里的对象名称。</td>
</tr>
<tr>
<td align="left"><code>expiry</code></td>
<td align="left"><em>Integer</em></td>
<td align="left">失效时间（以秒为单位），默认是7天，不得大于七天。</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">返回值类型</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>String</code> : string contains URL to download the object.</td>
<td align="left">异常列表：</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidBucketNameException</code> : 不合法的存储桶名称。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidKeyException</code> : 不合法的access key或者secret key。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>IOException</code> : 连接异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoSuchAlgorithmException</code> : 找不到相应的签名算法。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidExpiresRangeException</code> : presigned URL已经过期了。</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">try &#123;
    String url &#x3D; minioClient.presignedGetObject(&quot;mybucket&quot;, &quot;myobject&quot;, 60 * 60 * 24);
    System.out.println(url);
&#125; catch(MinioException e) &#123;
  System.out.println(&quot;Error occurred: &quot; + e);
&#125;</code></pre></div></figure>



<h3 id="presignedPutObject-String-bucketName-String-objectName-Integer-expires"><a href="#presignedPutObject-String-bucketName-String-objectName-Integer-expires" class="headerlink" title="presignedPutObject(String bucketName, String objectName, Integer expires)"></a>presignedPutObject(String bucketName, String objectName, Integer expires)</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">public String presignedPutObject(String bucketName, String objectName, Integer expires)</code></pre></div></figure>

<p>生成一个给HTTP PUT请求用的presigned URL。浏览器&#x2F;移动端的客户端可以用这个URL进行上传，即使其所在的存储桶是私有的。这个presigned URL可以设置一个失效时间，默认值是7天。</p>
<p><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#presignedPutObject-java.lang.String-java.lang.String-java.lang.Integer-">查看 Javadoc</a></p>
<p><strong>参数</strong></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>bucketName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶名称。</td>
</tr>
<tr>
<td align="left"><code>objectName</code></td>
<td align="left"><em>String</em></td>
<td align="left">存储桶里的对象名称。</td>
</tr>
<tr>
<td align="left"><code>expiry</code></td>
<td align="left"><em>Integer</em></td>
<td align="left">失效时间（以秒为单位），默认是7天，不得大于七天。</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">返回值类型</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>String</code> : string contains URL to download the object.</td>
<td align="left">异常列表：</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidBucketNameException</code> : 不合法的存储桶名称。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidKeyException</code> : 不合法的access key或者secret key。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>IOException</code> : 连接异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoSuchAlgorithmException</code> : 找不到相应的签名算法。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidExpiresRangeException</code> : presigned URL已经过期了。</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">try &#123;
    String url &#x3D; minioClient.presignedPutObject(&quot;mybucket&quot;, &quot;myobject&quot;, 60 * 60 * 24);
    System.out.println(url);
&#125; catch(MinioException e) &#123;
  System.out.println(&quot;Error occurred: &quot; + e);
&#125;</code></pre></div></figure>



<h3 id="presignedPostPolicy-PostPolicy-policy"><a href="#presignedPostPolicy-PostPolicy-policy" class="headerlink" title="presignedPostPolicy(PostPolicy policy)"></a>presignedPostPolicy(PostPolicy policy)</h3><figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">public Map&lt;String,String&gt; presignedPostPolicy(PostPolicy policy)</code></pre></div></figure>

<p>允许给POST请求的presigned URL设置策略，比如接收对象上传的存储桶名称的策略，key名称前缀，过期策略。</p>
<p><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/io/minio/MinioClient.html#presignedPostPolicy-io.minio.PostPolicy-">查看 Javadoc</a></p>
<p><strong>参数</strong></p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>policy</code></td>
<td align="left"><em>PostPolicy</em></td>
<td align="left">对象的post策略</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">返回值类型</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>Map</code>: Map of strings to construct form-data.</td>
<td align="left">异常列表：</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidBucketNameException</code> : 不合法的存储桶名称。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>InvalidKeyException</code> : 不合法的access key或者secret key。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>IOException</code> : 连接异常。</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>NoSuchAlgorithmException</code> : 找不到相应的签名算法。</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<figure><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">try &#123;
    PostPolicy policy &#x3D; new PostPolicy(&quot;mybucket&quot;, &quot;myobject&quot;,
  DateTime.now().plusDays(7));
    policy.setContentType(&quot;image&#x2F;png&quot;);
    Map&lt;String,String&gt; formData &#x3D; minioClient.presignedPostPolicy(policy);
    System.out.print(&quot;curl -X POST &quot;);
    for (Map.Entry&lt;String,String&gt; entry : formData.entrySet()) &#123;
    System.out.print(&quot; -F &quot; + entry.getKey() + &quot;&#x3D;&quot; + entry.getValue());
    &#125;
    System.out.println(&quot; -F file&#x3D;@&#x2F;tmp&#x2F;userpic.png  https:&#x2F;&#x2F;play.min.io&#x2F;mybucket&quot;);
&#125; catch(MinioException e) &#123;
  System.out.println(&quot;Error occurred: &quot; + e);</code></pre></div></figure>

<h2 id="5-了解更多"><a href="#5-了解更多" class="headerlink" title="5. 了解更多"></a>5. 了解更多</h2><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/minio/minio-java-rest-example">创建属于你的照片API服务示例</a></li>
<li><a target="_blank" rel="noopener" href="http://minio.github.io/minio-java/">完整的JavaDoc</a></li>
</ul>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Java/" class="category-chain-item">Java</a>
  
  
    <span>></span>
    
  <a href="/categories/Java/Spring/" class="category-chain-item">Spring</a>
  
  
    <span>></span>
    
  <a href="/categories/Java/Spring/Boot/" class="category-chain-item">Boot</a>
  
  

  

  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/MinIO/" class="print-no-link">#MinIO</a>
      
        <a href="/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/" class="print-no-link">#文件上传</a>
      
        <a href="/tags/%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/" class="print-no-link">#文件下载</a>
      
        <a href="/tags/%E6%96%87%E4%BB%B6%E5%88%86%E4%BA%AB/" class="print-no-link">#文件分享</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>SpringBoot-整合minio文件系统实现上传下载和分享文件</div>
      <div>https://blog.cikaros.top/doc/84f51c8e.html</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Cikaros</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2020年10月29日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/doc/c8132148.html" title="SpringBoot-整合redis">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">SpringBoot-整合redis</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/doc/fe76e187.html" title="Docker-搭建minio">
                        <span class="hidden-mobile">Docker-搭建minio</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments">
      
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://cdn.staticfile.net/valine/1.4.14/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"3cYeJPCmBzloJAiih22BpOwC-gzGzoHsz","appKey":"uLqClWuRHNwvKmIQC8gKnx92","path":"window.location.pathname","placeholder":"说点什么","avatar":"retro","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":true,"recordIP":true,"serverURLs":"https://3cyejpcm.lc-cn-n1-shared.com","emojiCDN":null,"emojiMaps":null,"enableQQ":false,"appid":"3cYeJPCmBzloJAiih22BpOwC-gzGzoHsz","appkey":"uLqClWuRHNwvKmIQC8gKnx92"},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  




  



  


  
  





  <script>
  Fluid.utils.createScript('https://cdn.staticfile.net/mermaid/10.7.0/mermaid.min.js', function() {
    mermaid.initialize({"theme":"default"});

    Fluid.utils.listenDOMLoaded(function() {
      Fluid.events.registerRefreshCallback(function() {
        if ('mermaid' in window) {
          mermaid.init();
        }
      });
    });
  });
</script>





  <!-- Custom -->
  <div class="col-lg-7 mx-auto nopadding-x-md">
    <div class="container custom post-custom mx-auto">
      <img src="/img/admire.png" class="rounded mx-auto d-block mt-5" style="width:400px; height:400px;">
    </div>
  </div>


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
  
    <div class="statistics">
  
  

  

</div>

  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.staticfile.net/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.net/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://cdn.staticfile.net/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    
      <script  src="/js/img-lazyload.js" ></script>
    
  




  
<script>
  var relativeDate = function() {
    var updatedTime = document.getElementById('updated-time');
    if (updatedTime) {
      var text = updatedTime.textContent;
      var reg = /\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:Z|[+-]\d{2}:\d{2})/;
      var matchs = text.match(reg);
      if (matchs) {
        var relativeTime = moment(matchs[0]).fromNow();
        updatedTime.textContent = text.replace(reg, relativeTime);
      }
      updatedTime.style.display = '';
    }
  };
  Fluid.utils.createScript('https://lib.baomitu.com/moment.js/2.29.4/moment.min.js', function() {
    if (!'zh-cn'.startsWith('en')) {
      Fluid.utils.createScript('https://lib.baomitu.com/moment.js/2.29.4/locale/zh-cn.min.js', function() {
        relativeDate();
      });
    } else {
      relativeDate();
    }
  });
</script>


  
<script>
  Fluid.utils.createScript('https://cdn.staticfile.net/tocbot/4.11.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script  src="https://cdn.staticfile.net/prism/1.21.0/components/prism-core.min.js" ></script>

  <script  src="https://cdn.staticfile.net/prism/1.21.0/plugins/autoloader/prism-autoloader.min.js" ></script>

  <script  src="https://cdn.staticfile.net/prism/1.21.0/plugins/line-numbers/prism-line-numbers.min.js" ></script>

  <script src=https://cdn.staticfile.net/clipboard.js/2.0.6/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://cdn.staticfile.net/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }

        Fluid.events.registerRefreshCallback(function() {
          if ('MathJax' in window && MathJax.startup.document && typeof MathJax.startup.document.state === 'function') {
            MathJax.startup.document.state(0);
            MathJax.texReset();
            MathJax.typeset();
            MathJax.typesetPromise();
          }
        });
      </script>
    

  <script  src="https://cdn.staticfile.net/mathjax/3.0.5/es5/tex-mml-chtml.js" ></script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
<!-- hexo injector body_end start -->
  <div id="a-player"></div>
  <link defer rel="stylesheet" href="https://cdn.staticfile.net/aplayer/1.10.1/APlayer.min.css" />
  <script src="https://cdn.staticfile.net/aplayer/1.10.1/APlayer.min.js"></script>
  <script defer src="/js/aplayer.js"></script>
  <script defer src="/js/custom_banner_img.js"></script>
<!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"01/assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/01/assets/assets/haru02.model.json"},"display":{"position":"right","width":150,"height":350},"mobile":{"show":true},"react":{"opacity":1},"log":false});</script></body>
</html>
